<%- include('../components/bootstrap'); %> <%-
include('../components/navigation'); %>

<section class="py-5">
  <div class="container px-4 px-lg-5 my-5">
    <div class="row gx-4 gx-lg-5 align-items-center">
      <div class="col-md-6">
        <img
          class="card-img-top mb-5 mb-md-0"
          src="/upload/<%= product.picture %>"
          alt="<%= product.name %>"
        />
      </div>
      <div class="col-md-6">
        <h1 class="display-5 fw-bolder"><%= product.name %></h1>
        <div class="fs-5 mb-4">
          <!-- <span class="text-decoration-line-through">à¸¿ 45.00</span> -->
          <span><%= product.price %></span>
        </div>
        <p class="lead"><%= product.description %></p>
        <% if (session.userId) { %>
        <form action="/shop/<%= product.id %>" method="POST">
          <div class="d-flex">
            <input
              class="form-control text-center me-3"
              name="quantity"
              type="number"
              value="1"
              min="1"
              style="max-width: 3rem"
            />
            <button class="btn btn-outline-dark flex-shrink-0" type="submit">
              <i class="bi-cart-fill me-1"></i>
              Add to cart
            </button>
          </div>
        </form>
        <% } %>
      </div>
    </div>
  </div>
</section>

<section class="py-5 bg-light">
  <div class="container px-4 px-lg-5 mt-5">
    <h2 class="fw-bolder mb-4">Related products</h2>
    <%- include('../components/products'); %>
  </div>
</section>

<style>
  input[type="number"]::-webkit-outer-spin-button,
  input[type="number"]::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }
  input[type="number"] {
    -moz-appearance: textfield;
  }
</style>

<%- include('../components/footer'); %>
